<svg id="mermaid-1771449016859" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 917px;" viewBox="-8 -7.9095001220703125 917 1431" role="graphics-document document" aria-roledescription="flowchart-v2" aria-describedby="chart-desc-mermaid-1771449016859" aria-labelledby="chart-title-mermaid-1771449016859" height="auto"><title id="chart-title-mermaid-1771449016859">System Architecture Overview</title><desc id="chart-desc-mermaid-1771449016859">Shows how Claude Code and Codex events flow through the hook dispatcher to the guidance control plane for policy enforcement</desc><style>#mermaid-1771449016859{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#0D47A1;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-1771449016859 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-1771449016859 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-1771449016859 .error-icon{fill:hsl(25.3846153846, 86.6666666667%, 99.1176470588%);}#mermaid-1771449016859 .error-text{fill:rgb(0.3, 2.5500000001, 4.2000000001);stroke:rgb(0.3, 2.5500000001, 4.2000000001);}#mermaid-1771449016859 .edge-thickness-normal{stroke-width:1px;}#mermaid-1771449016859 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1771449016859 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1771449016859 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-1771449016859 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1771449016859 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1771449016859 .marker{fill:#37474F;stroke:#37474F;}#mermaid-1771449016859 .marker.cross{stroke:#37474F;}#mermaid-1771449016859 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1771449016859 p{margin:0;}#mermaid-1771449016859 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#0D47A1;}#mermaid-1771449016859 .cluster-label text{fill:rgb(0.3, 2.5500000001, 4.2000000001);}#mermaid-1771449016859 .cluster-label span{color:rgb(0.3, 2.5500000001, 4.2000000001);}#mermaid-1771449016859 .cluster-label span p{background-color:transparent;}#mermaid-1771449016859 .label text,#mermaid-1771449016859 span{fill:#0D47A1;color:#0D47A1;}#mermaid-1771449016859 .node rect,#mermaid-1771449016859 .node circle,#mermaid-1771449016859 .node ellipse,#mermaid-1771449016859 .node polygon,#mermaid-1771449016859 .node path{fill:#E3F2FD;stroke:#1565C0;stroke-width:1px;}#mermaid-1771449016859 .rough-node .label text,#mermaid-1771449016859 .node .label text,#mermaid-1771449016859 .image-shape .label,#mermaid-1771449016859 .icon-shape .label{text-anchor:middle;}#mermaid-1771449016859 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-1771449016859 .rough-node .label,#mermaid-1771449016859 .node .label,#mermaid-1771449016859 .image-shape .label,#mermaid-1771449016859 .icon-shape .label{text-align:center;}#mermaid-1771449016859 .node.clickable{cursor:pointer;}#mermaid-1771449016859 .root .anchor path{fill:#37474F!important;stroke-width:0;stroke:#37474F;}#mermaid-1771449016859 .arrowheadPath{fill:#0b0b0b;}#mermaid-1771449016859 .edgePath .path{stroke:#37474F;stroke-width:2.0px;}#mermaid-1771449016859 .flowchart-link{stroke:#37474F;fill:none;}#mermaid-1771449016859 .edgeLabel{background-color:hsl(85.3846153846, 86.6666666667%, 94.1176470588%);text-align:center;}#mermaid-1771449016859 .edgeLabel p{background-color:hsl(85.3846153846, 86.6666666667%, 94.1176470588%);}#mermaid-1771449016859 .edgeLabel rect{opacity:0.5;background-color:hsl(85.3846153846, 86.6666666667%, 94.1176470588%);fill:hsl(85.3846153846, 86.6666666667%, 94.1176470588%);}#mermaid-1771449016859 .labelBkg{background-color:rgba(242, 253, 226.9999999999, 0.5);}#mermaid-1771449016859 .cluster rect{fill:hsl(25.3846153846, 86.6666666667%, 99.1176470588%);stroke:hsl(25.3846153846, 46.6666666667%, 89.1176470588%);stroke-width:1px;}#mermaid-1771449016859 .cluster text{fill:rgb(0.3, 2.5500000001, 4.2000000001);}#mermaid-1771449016859 .cluster span{color:rgb(0.3, 2.5500000001, 4.2000000001);}#mermaid-1771449016859 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(25.3846153846, 86.6666666667%, 99.1176470588%);border:1px solid hsl(25.3846153846, 46.6666666667%, 89.1176470588%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1771449016859 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#0D47A1;}#mermaid-1771449016859 rect.text{fill:none;stroke-width:0;}#mermaid-1771449016859 .icon-shape,#mermaid-1771449016859 .image-shape{background-color:hsl(85.3846153846, 86.6666666667%, 94.1176470588%);text-align:center;}#mermaid-1771449016859 .icon-shape p,#mermaid-1771449016859 .image-shape p{background-color:hsl(85.3846153846, 86.6666666667%, 94.1176470588%);padding:2px;}#mermaid-1771449016859 .icon-shape rect,#mermaid-1771449016859 .image-shape rect{opacity:0.5;background-color:hsl(85.3846153846, 86.6666666667%, 94.1176470588%);fill:hsl(85.3846153846, 86.6666666667%, 94.1176470588%);}#mermaid-1771449016859 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-1771449016859 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-1771449016859 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-1771449016859 .user&gt;*{fill:#F3E5F5!important;stroke:#7B1FA2!important;stroke-width:2px!important;color:#4A148C!important;}#mermaid-1771449016859 .user span{fill:#F3E5F5!important;stroke:#7B1FA2!important;stroke-width:2px!important;color:#4A148C!important;}#mermaid-1771449016859 .user tspan{fill:#4A148C!important;}#mermaid-1771449016859 .interface&gt;*{fill:#E1F5FE!important;stroke:#0277BD!important;stroke-width:2px!important;color:#01579B!important;}#mermaid-1771449016859 .interface span{fill:#E1F5FE!important;stroke:#0277BD!important;stroke-width:2px!important;color:#01579B!important;}#mermaid-1771449016859 .interface tspan{fill:#01579B!important;}#mermaid-1771449016859 .service&gt;*{fill:#E8F5E9!important;stroke:#2E7D32!important;stroke-width:2px!important;color:#1B5E20!important;}#mermaid-1771449016859 .service span{fill:#E8F5E9!important;stroke:#2E7D32!important;stroke-width:2px!important;color:#1B5E20!important;}#mermaid-1771449016859 .service tspan{fill:#1B5E20!important;}#mermaid-1771449016859 .data&gt;*{fill:#FFF8E1!important;stroke:#F57F17!important;stroke-width:2px!important;color:#E65100!important;}#mermaid-1771449016859 .data span{fill:#FFF8E1!important;stroke:#F57F17!important;stroke-width:2px!important;color:#E65100!important;}#mermaid-1771449016859 .data tspan{fill:#E65100!important;}#mermaid-1771449016859 .security&gt;*{fill:#E0F2F1!important;stroke:#00695C!important;stroke-width:2px!important;color:#004D40!important;}#mermaid-1771449016859 .security span{fill:#E0F2F1!important;stroke:#00695C!important;stroke-width:2px!important;color:#004D40!important;}#mermaid-1771449016859 .security tspan{fill:#004D40!important;}#mermaid-1771449016859 .external&gt;*{fill:#ECEFF1!important;stroke:#455A64!important;stroke-width:2px!important;color:#263238!important;}#mermaid-1771449016859 .external span{fill:#ECEFF1!important;stroke:#455A64!important;stroke-width:2px!important;color:#263238!important;}#mermaid-1771449016859 .external tspan{fill:#263238!important;}</style><rect width="100%" height="100%" fill="white"/><g><marker id="mermaid-1771449016859_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1771449016859_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1771449016859_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1771449016859_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1771449016859_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1771449016859_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker></g><g class="subgraphs"><g class="subgraph"><g class="cluster" id="PolicySource" data-look="classic"><rect style="" x="492.78645833333337" y="1273.5" width="395.421875" height="129"></rect><g class="cluster-label" transform="translate(641.5833333333334, 1273.5)"><foreignObject width="97.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Policy Source</p></span></div></foreignObject></g></g></g><g class="subgraph"><g class="cluster" id="ControlPlane" data-look="classic"><rect style="" x="606.296875" y="833" width="282.1588541666667" height="339"></rect><g class="cluster-label" transform="translate(662.4309895833334, 833)"><foreignObject width="169.890625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Guidance Control Plane</p></span></div></foreignObject></g></g></g><g class="subgraph"><g class="cluster" id="Helpers" data-look="classic"><rect style="" x="12" y="833" width="559.296875" height="129"></rect><g class="cluster-label" transform="translate(235.6171875, 833)"><foreignObject width="112.0625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Helper Modules</p></span></div></foreignObject></g></g></g><g class="subgraph"><g class="cluster" id="Dispatcher" data-look="classic"><rect style="" x="527.14453125" y="553.5" width="267.640625" height="153"></rect><g class="cluster-label" transform="translate(601.82421875, 553.5)"><foreignObject width="118.28125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Hook Dispatcher</p></span></div></foreignObject></g></g></g><g class="subgraph"><g class="cluster" id="EventCapture" data-look="classic"><rect style="" x="290.74348958333337" y="267.5" width="542.21875" height="153"></rect><g class="cluster-label" transform="translate(488.47786458333337, 267.5)"><foreignObject width="146.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Event Capture Layer</p></span></div></foreignObject></g></g></g><g class="subgraph"><g class="cluster" id="Agents" data-look="classic"><rect style="" x="453.04036458333337" y="29.5" width="313.65625" height="105"></rect><g class="cluster-label" transform="translate(566.7278645833334, 29.5)"><foreignObject width="86.28125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Agent Layer</p></span></div></foreignObject></g></g></g></g><g class="nodes"><g class="node default data" id="flowchart-ClaudeMD-10" transform="translate(580.5755208333334, 1351.5)"><rect class="basic label-container" style="fill:#FFF8E1 !important;stroke:#F57F17 !important;stroke-width:2px !important" x="-75.7890625" y="-39" width="151.578125" height="78"></rect><g class="label" style="color:#E65100 !important" transform="translate(-45.7890625, -24)"><rect></rect><foreignObject width="91.578125" height="48"><div style="color: rgb(230, 81, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#E65100 !important" class="nodeLabel"><p>CLAUDE.md<br/>Shared rules</p></span></div></foreignObject></g></g><g class="node default data" id="flowchart-LocalMD-11" transform="translate(781.2864583333334, 1351.5)"><rect class="basic label-container" style="fill:#FFF8E1 !important;stroke:#F57F17 !important;stroke-width:2px !important" x="-94.921875" y="-39" width="189.84375" height="78"></rect><g class="label" style="color:#E65100 !important" transform="translate(-64.921875, -24)"><rect></rect><foreignObject width="129.84375" height="48"><div style="color: rgb(230, 81, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#E65100 !important" class="nodeLabel"><p>CLAUDE.local.md<br/>Local experiments</p></span></div></foreignObject></g></g><g class="node default security" id="flowchart-Phase1-8" transform="translate(721.875, 923)"><rect class="basic label-container" style="fill:#E0F2F1 !important;stroke:#00695C !important;stroke-width:2px !important" x="-103.578125" y="-51" width="207.15625" height="102"></rect><g class="label" style="color:#004D40 !important" transform="translate(-73.578125, -36)"><rect></rect><foreignObject width="147.15625" height="72"><div style="color: rgb(0, 77, 64) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#004D40 !important" class="nodeLabel"><p>Phase 1 Runtime<br/>Compiler + Retriever<br/>Gates + Ledger</p></span></div></foreignObject></g></g><g class="node default security" id="flowchart-Advanced-9" transform="translate(756.4010416666667, 1109)"><rect class="basic label-container" style="fill:#E0F2F1 !important;stroke:#00695C !important;stroke-width:2px !important" x="-120.0546875" y="-51" width="240.109375" height="102"></rect><g class="label" style="color:#004D40 !important" transform="translate(-90.0546875, -36)"><rect></rect><foreignObject width="180.109375" height="72"><div style="color: rgb(0, 77, 64) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#004D40 !important" class="nodeLabel"><p>Advanced Runtime<br/>Trust + Threat + Proof<br/>Conformance + Evolution</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-Router-5" transform="translate(300.1015625, 911)"><rect class="basic label-container" style="fill:#E8F5E9 !important;stroke:#2E7D32 !important;stroke-width:2px !important" x="-73.1328125" y="-39" width="146.265625" height="78"></rect><g class="label" style="color:#1B5E20 !important" transform="translate(-43.1328125, -24)"><rect></rect><foreignObject width="86.265625" height="48"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1B5E20 !important" class="nodeLabel"><p>router.cjs<br/>Task routing</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-Session-6" transform="translate(481.265625, 911)"><rect class="basic label-container" style="fill:#E8F5E9 !important;stroke:#2E7D32 !important;stroke-width:2px !important" x="-78.03125" y="-39" width="156.0625" height="78"></rect><g class="label" style="color:#1B5E20 !important" transform="translate(-48.03125, -24)"><rect></rect><foreignObject width="96.0625" height="48"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1B5E20 !important" class="nodeLabel"><p>session.cjs<br/>Session state</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-Intel-7" transform="translate(110.484375, 911)"><rect class="basic label-container" style="fill:#E8F5E9 !important;stroke:#2E7D32 !important;stroke-width:2px !important" x="-86.484375" y="-39" width="172.96875" height="78"></rect><g class="label" style="color:#1B5E20 !important" transform="translate(-56.484375, -24)"><rect></rect><foreignObject width="112.96875" height="48"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1B5E20 !important" class="nodeLabel"><p>intelligence.cjs<br/>Pattern learning</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-HookHandler-4" transform="translate(660.96484375, 643.5)"><rect class="basic label-container" style="fill:#E8F5E9 !important;stroke:#2E7D32 !important;stroke-width:2px !important" x="-121.8203125" y="-51" width="243.640625" height="102"></rect><g class="label" style="color:#1B5E20 !important" transform="translate(-91.8203125, -36)"><rect></rect><foreignObject width="183.640625" height="72"><div style="color: rgb(27, 94, 32) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#1B5E20 !important" class="nodeLabel"><p>hook-handler.cjs<br/>CJS dispatcher<br/>stdin JSON + argv routing</p></span></div></foreignObject></g></g><g class="node default interface" id="flowchart-Settings-2" transform="translate(427.46223958333337, 357.5)"><rect class="basic label-container" style="fill:#E1F5FE !important;stroke:#0277BD !important;stroke-width:2px !important" x="-124.71875" y="-51" width="249.4375" height="102"></rect><g class="label" style="color:#01579B !important" transform="translate(-94.71875, -36)"><rect></rect><foreignObject width="189.4375" height="72"><div style="color: rgb(1, 87, 155) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#01579B !important" class="nodeLabel"><p>.claude/settings.json<br/>PreToolUse / PostToolUse<br/>SessionStart / SessionEnd</p></span></div></foreignObject></g></g><g class="node default interface" id="flowchart-Bridge-3" transform="translate(701.5716145833334, 357.5)"><rect class="basic label-container" style="fill:#E1F5FE !important;stroke:#0277BD !important;stroke-width:2px !important" x="-119.390625" y="-39" width="238.78125" height="78"></rect><g class="label" style="color:#01579B !important" transform="translate(-89.390625, -24)"><rect></rect><foreignObject width="178.78125" height="48"><div style="color: rgb(1, 87, 155) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#01579B !important" class="nodeLabel"><p>guidance-codex-bridge.js<br/>Lifecycle CLI commands</p></span></div></foreignObject></g></g><g class="node default user" id="flowchart-CC-0" transform="translate(541.7434895833334, 95.5)"><rect class="basic label-container" style="fill:#F3E5F5 !important;stroke:#7B1FA2 !important;stroke-width:2px !important" x="-76.703125" y="-27" width="153.40625" height="54"></rect><g class="label" style="color:#4A148C !important" transform="translate(-46.703125, -12)"><rect></rect><foreignObject width="93.40625" height="24"><div style="color: rgb(74, 20, 140) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4A148C !important" class="nodeLabel"><p>Claude Code</p></span></div></foreignObject></g></g><g class="node default user" id="flowchart-CX-1" transform="translate(701.5716145833334, 95.5)"><rect class="basic label-container" style="fill:#F3E5F5 !important;stroke:#7B1FA2 !important;stroke-width:2px !important" x="-53.125" y="-27" width="106.25" height="54"></rect><g class="label" style="color:#4A148C !important" transform="translate(-23.125, -12)"><rect></rect><foreignObject width="46.25" height="24"><div style="color: rgb(74, 20, 140) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#4A148C !important" class="nodeLabel"><p>Codex</p></span></div></foreignObject></g></g></g><g class="edges edgePaths"><path d="M541.743,122.5L541.743,125.75C541.743,129,541.743,135.5,541.743,154.667C541.743,173.833,541.743,205.667,541.382,222.055C541.02,238.443,540.296,239.386,539.462,240.219C538.629,241.052,537.686,241.776,519.835,242.138C501.983,242.5,467.223,242.5,449.371,242.862C431.519,243.224,430.577,243.948,429.743,244.781C428.91,245.614,428.186,246.557,427.824,249.112C427.462,251.667,427.462,255.833,427.462,265C427.462,274.167,427.462,288.333,427.462,295.417L427.462,302.5" id="L_CC_Settings_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CC_Settings_0_0" data-points="W3sieCI6NTQxLjc0MzQ4OTU4MzMzMzQsInkiOjEyMi41fSx7IngiOjU0MS43NDM0ODk1ODMzMzM0LCJ5IjoxNDJ9LHsieCI6NTQxLjc0MzQ4OTU4MzMzMzQsInkiOjI0Mi41fSx7IngiOjQyNy40NjIyMzk1ODMzMzMzNywieSI6MjQyLjV9LHsieCI6NDI3LjQ2MjIzOTU4MzMzMzM3LCJ5IjoyNjB9LHsieCI6NDI3LjQ2MjIzOTU4MzMzMzM3LCJ5IjozMDYuNX1d" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path><path d="M701.572,122.5L701.572,125.75C701.572,129,701.572,135.5,701.572,158.417C701.572,181.333,701.572,220.667,701.572,249.417C701.572,278.167,701.572,296.333,701.572,305.417L701.572,314.5" id="L_CX_Bridge_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CX_Bridge_0_0" data-points="W3sieCI6NzAxLjU3MTYxNDU4MzMzMzQsInkiOjEyMi41fSx7IngiOjcwMS41NzE2MTQ1ODMzMzM0LCJ5IjoxNDJ9LHsieCI6NzAxLjU3MTYxNDU4MzMzMzQsInkiOjI2MH0seyJ4Ijo3MDEuNTcxNjE0NTgzMzMzNCwieSI6MzE4LjV9XQ==" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path><path d="M427.462,408.5L427.462,411.75C427.462,415,427.462,421.5,427.462,440.667C427.462,459.833,427.462,491.667,427.824,508.055C428.186,524.443,428.91,525.386,429.743,526.219C430.577,527.052,431.519,527.776,462.473,528.138C493.428,528.5,554.393,528.5,585.347,528.862C616.301,529.224,617.244,529.948,618.077,530.781C618.91,531.614,619.634,532.557,619.996,535.112C620.358,537.667,620.358,541.833,620.358,551C620.358,560.167,620.358,574.333,620.358,581.417L620.358,588.5" id="L_Settings_HookHandler_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Settings_HookHandler_0_0" data-points="W3sieCI6NDI3LjQ2MjIzOTU4MzMzMzM3LCJ5Ijo0MDguNX0seyJ4Ijo0MjcuNDYyMjM5NTgzMzMzMzcsInkiOjQyOH0seyJ4Ijo0MjcuNDYyMjM5NTgzMzMzMzcsInkiOjUyOC41fSx7IngiOjYyMC4zNTgwNzI5MTY2NjY3LCJ5Ijo1MjguNX0seyJ4Ijo2MjAuMzU4MDcyOTE2NjY2NywieSI6NTQ2fSx7IngiOjYyMC4zNTgwNzI5MTY2NjY3LCJ5Ijo1OTIuNX1d" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path><path d="M701.572,396.5L701.572,401.75C701.572,407,701.572,417.5,701.572,442.417C701.572,467.333,701.572,506.667,701.572,533.417C701.572,560.167,701.572,574.333,701.572,581.417L701.572,588.5" id="L_Bridge_HookHandler_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Bridge_HookHandler_0_0" data-points="W3sieCI6NzAxLjU3MTYxNDU4MzMzMzQsInkiOjM5Ni41fSx7IngiOjcwMS41NzE2MTQ1ODMzMzM0LCJ5Ijo0Mjh9LHsieCI6NzAxLjU3MTYxNDU4MzMzMzQsInkiOjU0Nn0seyJ4Ijo3MDEuNTcxNjE0NTgzMzMzNCwieSI6NTkyLjV9XQ==" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path><path d="M660.965,694.5L660.965,697.75C660.965,701,660.965,707.5,660.965,715.75C660.965,724,660.965,734,660.603,739.471C660.241,744.943,659.517,745.886,658.684,746.719C657.85,747.552,656.908,748.276,596.55,748.638C536.193,749,416.421,749,356.063,749.362C295.706,749.724,294.763,750.448,293.929,751.281C293.096,752.114,292.372,753.057,292.01,766.029C291.648,779,291.648,804,291.648,816.5L291.648,829" id="L_HookHandler_Helpers_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_HookHandler_Helpers_0_0" data-points="W3sieCI6NjYwLjk2NDg0Mzc1LCJ5Ijo2OTQuNX0seyJ4Ijo2NjAuOTY0ODQzNzUsInkiOjcxNH0seyJ4Ijo2NjAuOTY0ODQzNzUsInkiOjc0OX0seyJ4IjoyOTEuNjQ4NDM3NSwieSI6NzQ5fSx7IngiOjI5MS42NDg0Mzc1LCJ5Ijo4MzN9XQ==" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path><path d="M721.875,694.5L721.875,697.75C721.875,701,721.875,707.5,721.875,729.333C721.875,751.167,721.875,788.333,721.875,814C721.875,839.667,721.875,853.833,721.875,860.917L721.875,868" id="L_HookHandler_Phase1_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_HookHandler_Phase1_0_0" data-points="W3sieCI6NzIxLjg3NSwieSI6Njk0LjV9LHsieCI6NzIxLjg3NSwieSI6NzE0fSx7IngiOjcyMS44NzUsInkiOjgyNS41fSx7IngiOjcyMS44NzUsInkiOjg3Mn1d" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path><path d="M756.401,974L756.401,1054" id="L_Phase1_Advanced_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Phase1_Advanced_0_0" data-points="W3sieCI6NzU2LjQwMTA0MTY2NjY2NjcsInkiOjk3NH0seyJ4Ijo3NTYuNDAxMDQxNjY2NjY2NywieSI6MTA1OH1d" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path><path d="M687.349,974L687.349,975.667C687.349,977.333,687.349,980.667,686.987,982.805C686.625,984.943,685.901,985.886,685.068,986.719C684.235,987.552,683.292,988.276,673.32,988.638C663.348,989,644.347,989,634.375,989.362C624.404,989.724,623.461,990.448,622.627,991.281C621.794,992.114,621.07,993.057,620.708,1024.445C620.346,1055.833,620.346,1117.667,620.346,1161.333C620.346,1205,620.346,1230.5,621.054,1243.25C621.762,1256,623.178,1256,623.886,1258.25C624.594,1260.5,624.594,1265,624.594,1267.25L624.594,1269.5" id="L_Phase1_PolicySource_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Phase1_PolicySource_0_0" data-points="W3sieCI6Njg3LjM0ODk1ODMzMzMzMzQsInkiOjk3NH0seyJ4Ijo2ODcuMzQ4OTU4MzMzMzMzNCwieSI6OTg5fSx7IngiOjYyMC4zNDYzNTQxNjY2NjY3LCJ5Ijo5ODl9LHsieCI6NjIwLjM0NjM1NDE2NjY2NjcsInkiOjExNzkuNX0seyJ4Ijo2MjAuMzQ2MzU0MTY2NjY2NywieSI6MTI1Nn0seyJ4Ijo2MjQuNTkzNzUsInkiOjEyNTZ9LHsieCI6NjI0LjU5Mzc1LCJ5IjoxMjczLjV9XQ==" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path><path d="M756.401,1160L756.401,1163.25C756.401,1166.5,756.401,1173,756.401,1191.25C756.401,1209.5,756.401,1239.5,756.401,1254.5L756.401,1269.5" id="L_Advanced_PolicySource_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Advanced_PolicySource_0_0" data-points="W3sieCI6NzU2LjQwMTA0MTY2NjY2NjcsInkiOjExNjB9LHsieCI6NzU2LjQwMTA0MTY2NjY2NjcsInkiOjExNzkuNX0seyJ4Ijo3NTYuNDAxMDQxNjY2NjY2NywieSI6MTI3My41fV0=" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path><path d="M600.055,694.5L600.055,697.75C600.055,701,600.055,707.5,600.055,712.833C600.055,718.167,600.055,722.333,599.693,724.888C599.331,727.443,598.607,728.386,597.774,729.219C596.94,730.052,595.997,730.776,532.003,731.138C468.008,731.5,340.962,731.5,276.967,731.138C212.973,730.776,212.03,730.052,211.196,729.219C210.363,728.386,209.639,727.443,209.277,710.888C208.915,694.333,208.915,662.167,208.915,622.25C208.915,582.333,208.915,534.667,208.915,463.167C208.915,391.667,208.915,296.333,208.915,229.458C208.915,162.583,208.915,124.167,208.915,93.5C208.915,62.833,208.915,39.917,209.277,27.987C209.639,16.057,210.363,15.114,211.196,14.281C212.03,13.448,212.973,12.724,254.465,12.362C295.957,12,377.999,12,419.491,12.362C460.983,12.724,461.926,13.448,462.759,14.281C463.593,15.114,464.317,16.057,464.678,17.945C465.04,19.833,465.04,22.667,465.04,24.083L465.04,25.5" id="L_HookHandler_Agents_0_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_HookHandler_Agents_0_0" data-points="W3sieCI6NjAwLjA1NDY4NzUsInkiOjY5NC41fSx7IngiOjYwMC4wNTQ2ODc1LCJ5Ijo3MTR9LHsieCI6NjAwLjA1NDY4NzUsInkiOjczMS41fSx7IngiOjIwOC45MTUzNjQ1ODMzMzMzNywieSI6NzMxLjV9LHsieCI6MjA4LjkxNTM2NDU4MzMzMzM3LCJ5Ijo2MzB9LHsieCI6MjA4LjkxNTM2NDU4MzMzMzM3LCJ5Ijo0ODd9LHsieCI6MjA4LjkxNTM2NDU4MzMzMzM3LCJ5IjoyMDF9LHsieCI6MjA4LjkxNTM2NDU4MzMzMzM3LCJ5Ijo4NS43NX0seyJ4IjoyMDguOTE1MzY0NTgzMzMzMzcsInkiOjEyfSx7IngiOjQ2NS4wNDAzNjQ1ODMzMzMzNywieSI6MTJ9LHsieCI6NDY1LjA0MDM2NDU4MzMzMzM3LCJ5IjoyOS41fV0=" marker-end="url(#mermaid-1771449016859_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(541.5325520833334, 201)"><g class="label" data-id="L_CC_Settings_0_0" transform="translate(-45.7890625, -24)"><foreignObject width="91.578125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>tool events<br/>(stdin JSON)</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(701.3684895833334, 201)"><g class="label" data-id="L_CX_Bridge_0_0" transform="translate(-53.796875, -12)"><foreignObject width="107.59375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>CLI commands</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(427.16536458333337, 487)"><g class="label" data-id="L_Settings_HookHandler_0_0" transform="translate(-78.703125, -24)"><foreignObject width="157.40625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>node hook-handler.cjs<br/>pre-bash / pre-edit / ...</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(701.1653645833334, 487)"><g class="label" data-id="L_Bridge_HookHandler_0_0" transform="translate(-43.59375, -12)"><foreignObject width="87.1875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>delegates to</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(291.2265625, 778.5)"><g class="label" data-id="L_HookHandler_Helpers_0_0" transform="translate(-31.578125, -12)"><foreignObject width="63.15625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>lazy load</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(721.7890625, 778.5)"><g class="label" data-id="L_HookHandler_Phase1_0_0" transform="translate(-40.9140625, -12)"><foreignObject width="81.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>spawnSync</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(756.3619791666667, 1016)"><g class="label" data-id="L_Phase1_Advanced_0_0" transform="translate(-32.4609375, -12)"><foreignObject width="64.921875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>layers on</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(619.9166666666667, 1226.5)"><g class="label" data-id="L_Phase1_PolicySource_0_0" transform="translate(-31.5703125, -12)"><foreignObject width="63.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>compiles</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(755.9713541666667, 1226.5)"><g class="label" data-id="L_Advanced_PolicySource_0_0" transform="translate(-31.5703125, -12)"><foreignObject width="63.140625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>compiles</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(208.82942708333337, 344)"><g class="label" data-id="L_HookHandler_Agents_0_0" transform="translate(-46.9140625, -24)"><foreignObject width="93.828125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>exit 0 = allow<br/>exit 1 = block</p></span></div></foreignObject></g></g></g></svg>